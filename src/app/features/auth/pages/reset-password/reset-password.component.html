<div class="app-reset-password">
  <div class="auth-wrapper">
    <div class="auth-container">
      <div class="forgot-password-container">
        <img
          class="mt-3 mb-4"
          alt="OTP Verification"
          ngSrc="assets/img/auth/forgot-password.png"
          width="200"
          height="154"
          priority />
        <h2 class="h5 title mt-2">Reset your password</h2>
        <p class="font-body-2 mt-2 lh-md mb-4 text-center">
          Enter a new password below to change your password
        </p>
        <div class="sign-up-container w-100">
          <form class="form-container w-100" [formGroup]="resetPasswordForm">
            <!--        // ---------------------------------------->
            <!--        // Password -->
            <!--        // ---------------------------------------->

            <div class="form-group">
              <label class="label-title text-uppercase mb-2" for="password"
                >Password <span class="label-required">*</span></label
              >
              <div
                class="input-password-group"
                [ngClass]="{
                  'is-invalid':
                    fPassword?.invalid &&
                    (fPassword?.dirty || fPassword?.touched) &&
                    isSubmit,
                }">
                <input
                  [type]="isShowPassword ? 'text' : 'password'"
                  class="form-control"
                  [ngClass]="{
                    'is-invalid':
                      fPassword?.invalid &&
                      (fPassword?.dirty || fPassword?.touched) &&
                      isSubmit,
                  }"
                  id="password"
                  name="password"
                  placeholder="Enter Password"
                  [formControlName]="'password'"
                  required />
                <button class="btn-visibility" (click)="togglePassword(false)">
                  {{ isShowPassword ? "Hide" : "Show" }}
                </button>
              </div>
              <div
                class="invalid-feedback"
                *ngIf="
                  fPassword?.invalid &&
                  (fPassword?.dirty || fPassword?.touched || isSubmit)
                ">
                <div *ngIf="fPassword?.errors?.['required']">
                  Password is required.
                </div>
                <div *ngIf="fPassword?.errors?.['minlength']">
                  Password must be at least 8 characters long.
                </div>
              </div>
            </div>

            <ul class="list-password-checklist">
              <li>10 to 16 characters.</li>
              <li>Uppercase letters (A-Z) & lowercase letters (a-z)</li>
              <li>Numbers (0-9)</li>
              <li>Special characters (!, #, $, %, ^, &, *, (, ), _, +)</li>
            </ul>

            <!--        // ---------------------------------------->
            <!--        // Confirm Password -->
            <!--        // ---------------------------------------->

            <div class="form-group">
              <label class="label-title text-uppercase mb-2" for="password"
                >Confirm Password <span class="label-required">*</span></label
              >
              <div
                class="input-password-group"
                [ngClass]="{
                  'is-invalid':
                    fConfirmPassword?.invalid &&
                    (fConfirmPassword?.dirty || fConfirmPassword?.touched) &&
                    isSubmit,
                }">
                <input
                  [type]="isShowConfirmPassword ? 'text' : 'password'"
                  class="form-control"
                  [ngClass]="{
                    'is-invalid':
                      fConfirmPassword?.invalid &&
                      (fConfirmPassword?.dirty || fConfirmPassword?.touched) &&
                      isSubmit,
                  }"
                  id="confirm-password"
                  name="confirm-password"
                  placeholder="Enter Confirm Password"
                  [formControlName]="'confirmPassword'"
                  required />
                <button class="btn-visibility" (click)="togglePassword(true)">
                  {{ isShowConfirmPassword ? "Hide" : "Show" }}
                </button>
              </div>
              <div
                class="invalid-feedback"
                *ngIf="
                  fConfirmPassword?.invalid &&
                  (fConfirmPassword?.dirty ||
                    fConfirmPassword?.touched ||
                    isSubmit)
                ">
                <div *ngIf="fConfirmPassword?.errors?.['required']">
                  Password is required.
                </div>
                <div *ngIf="fConfirmPassword?.errors?.['minlength']">
                  Password must be at least 8 characters long.
                </div>
              </div>
            </div>

            <div
              *ngIf="isShowAlertError"
              class="alert alert-danger mt-4"
              role="alert">
              <div class="alert-heading">
                <i class="fa-sharp fa-regular fa-circle-exclamation"></i>
                <p class="heading">Fail</p>
              </div>
              <div class="alert-content">
                {{ this.alertError | translate }}
              </div>
            </div>

            <button
              type="submit"
              (click)="requestResetPassword()"
              [disabled]="resetPasswordForm.disabled"
              class="btn btn-primary w-100 text-uppercase mb-4">
              <span
                *ngIf="resetPasswordForm.disabled"
                class="spinner-border spinner-border-sm mb-0 mx-2">
              </span>
              <span *ngIf="!resetPasswordForm.disabled">Save</span>
              <span *ngIf="resetPasswordForm.disabled"> Loading... </span>
            </button>

            <div class="w-100 d-flex">
              <a
                href="{{ '' | localize }}"
                class="font-button-2 color-black text-uppercase text-center w-100"
                >Go Home</a
              >
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
